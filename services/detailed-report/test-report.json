{
  "numTotalTests": 64,
  "numPassedTests": 64,
  "numFailedTests": 0,
  "numPendingTests": 0,
  "startTime": "2025-07-14T05:16:44.794Z",
  "endTime": "2025-07-14T05:16:49.288Z",
  "testResults": [
    {
      "testFilePath": "D:\\.work\\rental-software\\features\\auth\\lib\\roleUtils.test.ts",
      "testFileResults": [
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should parse valid JWT token correctly",
          "status": "passed",
          "title": "should parse valid JWT token correctly",
          "failureMessages": [],
          "duration": 10
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should return null for invalid JWT format",
          "status": "passed",
          "title": "should return null for invalid JWT format",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should return null for expired token",
          "status": "passed",
          "title": "should return null for expired token",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should handle malformed base64 payload",
          "status": "passed",
          "title": "should handle malformed base64 payload",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should handle invalid JSON in payload",
          "status": "passed",
          "title": "should handle invalid JSON in payload",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "parseJWT"
          ],
          "fullName": "roleUtils parseJWT should handle missing required claims",
          "status": "passed",
          "title": "should handle missing required claims",
          "failureMessages": [],
          "duration": 0
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "isValidRole"
          ],
          "fullName": "roleUtils isValidRole should validate correct role strings",
          "status": "passed",
          "title": "should validate correct role strings",
          "failureMessages": [],
          "duration": 0
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "isValidRole"
          ],
          "fullName": "roleUtils isValidRole should reject invalid role values",
          "status": "passed",
          "title": "should reject invalid role values",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "extractRoleFromPayload"
          ],
          "fullName": "roleUtils extractRoleFromPayload should extract valid role from payload",
          "status": "passed",
          "title": "should extract valid role from payload",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "extractRoleFromPayload"
          ],
          "fullName": "roleUtils extractRoleFromPayload should return default role for invalid role in payload",
          "status": "passed",
          "title": "should return default role for invalid role in payload",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "getRoleFromToken"
          ],
          "fullName": "roleUtils getRoleFromToken should extract role from valid token",
          "status": "passed",
          "title": "should extract role from valid token",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "getRoleFromToken"
          ],
          "fullName": "roleUtils getRoleFromToken should return default role for invalid token",
          "status": "passed",
          "title": "should return default role for invalid token",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "getRoleFromToken"
          ],
          "fullName": "roleUtils getRoleFromToken should return default role for missing role claim",
          "status": "passed",
          "title": "should return default role for missing role claim",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "createRoleError"
          ],
          "fullName": "roleUtils createRoleError should create standardized error object",
          "status": "passed",
          "title": "should create standardized error object",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "createRoleError"
          ],
          "fullName": "roleUtils createRoleError should work without original error",
          "status": "passed",
          "title": "should work without original error",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should implement singleton pattern correctly",
          "status": "passed",
          "title": "should implement singleton pattern correctly",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should set and get role with TTL",
          "status": "passed",
          "title": "should set and get role with TTL",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should handle cache expiration",
          "status": "passed",
          "title": "should handle cache expiration",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should integrate with sessionStorage",
          "status": "passed",
          "title": "should integrate with sessionStorage",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should handle sessionStorage errors gracefully",
          "status": "passed",
          "title": "should handle sessionStorage errors gracefully",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should clear role cache",
          "status": "passed",
          "title": "should clear role cache",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleCacheManager"
          ],
          "fullName": "roleUtils RoleCacheManager should clear all cache entries",
          "status": "passed",
          "title": "should clear all cache entries",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleSyncManager"
          ],
          "fullName": "roleUtils RoleSyncManager should implement singleton pattern correctly",
          "status": "passed",
          "title": "should implement singleton pattern correctly",
          "failureMessages": [],
          "duration": 0
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleSyncManager"
          ],
          "fullName": "roleUtils RoleSyncManager should initialize and broadcast role updates",
          "status": "passed",
          "title": "should initialize and broadcast role updates",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleSyncManager"
          ],
          "fullName": "roleUtils RoleSyncManager should broadcast role clearing",
          "status": "passed",
          "title": "should broadcast role clearing",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleSyncManager"
          ],
          "fullName": "roleUtils RoleSyncManager should handle subscription and unsubscription",
          "status": "passed",
          "title": "should handle subscription and unsubscription",
          "failureMessages": [],
          "duration": 0
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "RoleSyncManager"
          ],
          "fullName": "roleUtils RoleSyncManager should cleanup channel on destroy",
          "status": "passed",
          "title": "should cleanup channel on destroy",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "retryOperation"
          ],
          "fullName": "roleUtils retryOperation should execute operation successfully on first try",
          "status": "passed",
          "title": "should execute operation successfully on first try",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "retryOperation"
          ],
          "fullName": "roleUtils retryOperation should retry on failure and succeed",
          "status": "passed",
          "title": "should retry on failure and succeed",
          "failureMessages": [],
          "duration": 49
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "retryOperation"
          ],
          "fullName": "roleUtils retryOperation should throw after exhausting all retries",
          "status": "passed",
          "title": "should throw after exhausting all retries",
          "failureMessages": [],
          "duration": 63
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "retryOperation"
          ],
          "fullName": "roleUtils retryOperation should respect delay between retries",
          "status": "passed",
          "title": "should respect delay between retries",
          "failureMessages": [],
          "duration": 55
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "debounce"
          ],
          "fullName": "roleUtils debounce should debounce function calls",
          "status": "passed",
          "title": "should debounce function calls",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "debounce"
          ],
          "fullName": "roleUtils debounce should reset debounce timer on each call",
          "status": "passed",
          "title": "should reset debounce timer on each call",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "roleUtils",
            "debounce"
          ],
          "fullName": "roleUtils debounce should maintain function context",
          "status": "passed",
          "title": "should maintain function context",
          "failureMessages": [],
          "duration": 1
        }
      ],
      "failureMessage": null
    },
    {
      "testFilePath": "D:\\.work\\rental-software\\features\\auth\\hooks\\useUserRole.test.ts",
      "testFileResults": [
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useUserRole (main hook)"
          ],
          "fullName": "useUserRole hooks useUserRole (main hook) should return role state from context",
          "status": "passed",
          "title": "should return role state from context",
          "failureMessages": [],
          "duration": 27
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useUserRole (main hook)"
          ],
          "fullName": "useUserRole hooks useUserRole (main hook) should provide computed helper values",
          "status": "passed",
          "title": "should provide computed helper values",
          "failureMessages": [],
          "duration": 4
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useUserRole (main hook)"
          ],
          "fullName": "useUserRole hooks useUserRole (main hook) should handle different roles correctly",
          "status": "passed",
          "title": "should handle different roles correctly",
          "failureMessages": [],
          "duration": 14
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useUserRole (main hook)"
          ],
          "fullName": "useUserRole hooks useUserRole (main hook) should handle context unavailable error",
          "status": "passed",
          "title": "should handle context unavailable error",
          "failureMessages": [],
          "duration": 58
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleGuard"
          ],
          "fullName": "useUserRole hooks useRoleGuard should provide basic role checks",
          "status": "passed",
          "title": "should provide basic role checks",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleGuard"
          ],
          "fullName": "useUserRole hooks useRoleGuard should implement role hierarchy correctly",
          "status": "passed",
          "title": "should implement role hierarchy correctly",
          "failureMessages": [],
          "duration": 5
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleGuard"
          ],
          "fullName": "useUserRole hooks useRoleGuard should handle context-aware guards",
          "status": "passed",
          "title": "should handle context-aware guards",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleLoadingState"
          ],
          "fullName": "useUserRole hooks useRoleLoadingState should provide loading state management",
          "status": "passed",
          "title": "should provide loading state management",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleLoadingState"
          ],
          "fullName": "useUserRole hooks useRoleLoadingState should generate appropriate status messages",
          "status": "passed",
          "title": "should generate appropriate status messages",
          "failureMessages": [],
          "duration": 4
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleConditional"
          ],
          "fullName": "useUserRole hooks useRoleConditional should provide conditional rendering helpers",
          "status": "passed",
          "title": "should provide conditional rendering helpers",
          "failureMessages": [],
          "duration": 4
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleConditional"
          ],
          "fullName": "useUserRole hooks useRoleConditional should handle feature flags correctly",
          "status": "passed",
          "title": "should handle feature flags correctly",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleErrorHandling"
          ],
          "fullName": "useUserRole hooks useRoleErrorHandling should categorize errors correctly",
          "status": "passed",
          "title": "should categorize errors correctly",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleErrorHandling"
          ],
          "fullName": "useUserRole hooks useRoleErrorHandling should provide user-friendly error messages",
          "status": "passed",
          "title": "should provide user-friendly error messages",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleDevelopment"
          ],
          "fullName": "useUserRole hooks useRoleDevelopment should provide development utilities when NODE_ENV is development",
          "status": "passed",
          "title": "should provide development utilities when NODE_ENV is development",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleDevelopment"
          ],
          "fullName": "useUserRole hooks useRoleDevelopment should return development functions structure correctly",
          "status": "passed",
          "title": "should return development functions structure correctly",
          "failureMessages": [],
          "duration": 2
        },
        {
          "ancestorTitles": [
            "useUserRole hooks",
            "useRoleDevelopment"
          ],
          "fullName": "useUserRole hooks useRoleDevelopment should handle role switching warnings in production-like environment",
          "status": "passed",
          "title": "should handle role switching warnings in production-like environment",
          "failureMessages": [],
          "duration": 7
        }
      ],
      "failureMessage": null
    },
    {
      "testFilePath": "D:\\.work\\rental-software\\features\\auth\\context\\UserRoleContext.test.tsx",
      "testFileResults": [
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should initialize with loading state",
          "status": "passed",
          "title": "should initialize with loading state",
          "failureMessages": [],
          "duration": 54
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should fetch role from Clerk session on mount",
          "status": "passed",
          "title": "should fetch role from Clerk session on mount",
          "failureMessages": [],
          "duration": 19
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should handle Clerk session unavailable",
          "status": "passed",
          "title": "should handle Clerk session unavailable",
          "failureMessages": [],
          "duration": 25
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should integrate with cache manager",
          "status": "passed",
          "title": "should integrate with cache manager",
          "failureMessages": [],
          "duration": 24
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should handle cross-tab synchronization",
          "status": "passed",
          "title": "should handle cross-tab synchronization",
          "failureMessages": [],
          "duration": 11
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should handle error boundary with fallback UI",
          "status": "passed",
          "title": "should handle error boundary with fallback UI",
          "failureMessages": [],
          "duration": 35
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "UserRoleProvider"
          ],
          "fullName": "UserRoleContext UserRoleProvider should support development mode",
          "status": "passed",
          "title": "should support development mode",
          "failureMessages": [],
          "duration": 5
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "Context Actions"
          ],
          "fullName": "UserRoleContext Context Actions should provide setRole action",
          "status": "passed",
          "title": "should provide setRole action",
          "failureMessages": [],
          "duration": 11
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "Context Actions"
          ],
          "fullName": "UserRoleContext Context Actions should provide clearRole action",
          "status": "passed",
          "title": "should provide clearRole action",
          "failureMessages": [],
          "duration": 13
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "Context Actions"
          ],
          "fullName": "UserRoleContext Context Actions should provide refreshRole action",
          "status": "passed",
          "title": "should provide refreshRole action",
          "failureMessages": [],
          "duration": 12
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "useUserRoleContext hook"
          ],
          "fullName": "UserRoleContext useUserRoleContext hook should throw error when used outside provider",
          "status": "passed",
          "title": "should throw error when used outside provider",
          "failureMessages": [],
          "duration": 35
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "useUserRoleContext hook"
          ],
          "fullName": "UserRoleContext useUserRoleContext hook should return context value when used within provider",
          "status": "passed",
          "title": "should return context value when used within provider",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "Lifecycle and Cleanup"
          ],
          "fullName": "UserRoleContext Lifecycle and Cleanup should cleanup resources on unmount",
          "status": "passed",
          "title": "should cleanup resources on unmount",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "UserRoleContext",
            "Lifecycle and Cleanup"
          ],
          "fullName": "UserRoleContext Lifecycle and Cleanup should handle auth state changes",
          "status": "passed",
          "title": "should handle auth state changes",
          "failureMessages": [],
          "duration": 6
        }
      ],
      "failureMessage": null
    }
  ]
}