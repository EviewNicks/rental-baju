 GET /dashboard/new 200 in 194ms
[ProductAvailableAPI] üöÄ GET request started {
  timestamp: '2025-08-03T22:37:49.819Z',
  url: 'http://localhost:3000/api/kasir/produk/available?available=true',
  method: 'GET'
}
[ProductAvailableAPI] üìä Query parameters received {
  queryParams: {
    page: '1',
    limit: '10',
    search: undefined,
    categoryId: undefined,
    available: true,
    size: undefined,
    colorId: undefined
  },
  timestamp: '2025-08-03T22:37:50.371Z'
}
[ProductAvailableAPI] ‚úÖ Query parameters validated {
  page: 1,
  limit: 10,
  skip: 0,
  search: undefined,
  categoryId: undefined,
  available: true,
  size: undefined,
  colorId: undefined,
  timestamp: '2025-08-03T22:37:50.372Z'
}
[ProductAvailableAPI] üóÑÔ∏è Executing database query {
  whereClause: { isActive: true, status: 'AVAILABLE', availableStock: { gt: 0 } },       
  skip: 0,
  limit: 10,
  timestamp: '2025-08-03T22:37:50.373Z'
}
[ProductAvailableAPI] ‚úÖ Database query completed {
  productsFound: 5,
  totalCount: 5,
  productIds: [
    '2a225c70-148d-4fca-a5b2-02d151ffb334',
    'ee781c3a-e7be-4ec4-9889-904c664b1d54',
    '6e23fefd-205a-4e62-af17-488b75e8cb4f',
    '6ca0b72e-6392-4ea2-9e96-1511969661d1',
    'e2f252a1-a7d4-4846-842d-981f227a64d2'
  ],
  productInventory: [
    {
      id: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      name: 'Dress Elegant Red',
      totalInventory: 1,
      availableStock: 1,
      rentedStock: 0
    },
    {
      id: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      name: 'Dress Elegant Updated Update',
      totalInventory: 2,
      availableStock: 2,
      rentedStock: 0
    },
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 10,
      rentedStock: 0
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:37:51.670Z'
}
[ProductAvailableAPI] ‚úÖ Using database inventory fields directly {
  productsFound: 5,
  inventorySummary: [
    {
      id: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      name: 'Dress Elegant Red',
      totalInventory: 1,
      availableStock: 1,
      rentedStock: 0
    },
    {
      id: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      name: 'Dress Elegant Updated Update',
      totalInventory: 2,
      availableStock: 2,
      rentedStock: 0
    },
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 10,
      rentedStock: 0
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:37:51.676Z'
}
[ProductAvailableAPI] ‚úÖ Sending response {
  returnedProducts: 5,
  totalProducts: 5,
  currentPage: 1,
  totalPages: 1,
  productsWithStock: 5,
  productsOutOfStock: 0,
  totalInventoryValue: 29,
  totalAvailableStock: 29,
  totalRentedStock: 0,
  timestamp: '2025-08-03T22:37:51.681Z'
}
 GET /api/kasir/produk/available?available=true 200 in 2036ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 543ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 ‚óã Compiling /api/kasir/penyewa ...
 ‚úì Compiled /api/kasir/penyewa in 3.7s
 GET /api/kasir/penyewa?limit=20 200 in 5405ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 657ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
[TransaksiService] üöÄ Starting transaction creation {
  penyewaId: '10bb5330-3654-4c45-b110-c71c07e6ec2f',
  itemCount: 2,
  items: [
    {
      produkId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      jumlah: 2,
      durasi: 3
    },
    {
      produkId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      jumlah: 1,
      durasi: 3
    }
  ],
  tglMulai: '2025-08-12T00:00:00.000Z',
  metodeBayar: 'tunai',
  timestamp: '2025-08-03T22:39:00.803Z'
}
[TransaksiService] ‚úÖ Penyewa validated {
  penyewaId: '10bb5330-3654-4c45-b110-c71c07e6ec2f',
  penyewaNama: 'NInja',
  timestamp: '2025-08-03T22:39:01.843Z'
}
[TransaksiService] üîÑ Validating product availability {
  items: [
    {
      productId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      requestedQuantity: 2
    },
    {
      productId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      requestedQuantity: 1
    }
  ],
  checkDate: '2025-08-12T00:00:00.000Z',
  timestamp: '2025-08-03T22:39:01.845Z'
}
[TransaksiService] üìä Availability validation result {
  isValid: true,
  errors: [],
  warnings: [
    'Stok produk Dress Elegant Updated Update akan hampir habis setelah transaksi ini (sisa: 0)',
    'Stok produk Dress Elegant Red akan hampir habis setelah transaksi ini (sisa: 0)'    
  ],
  timestamp: '2025-08-03T22:39:06.683Z'
}
[TransaksiService] üóÑÔ∏è Starting database transaction {
  transactionCode: 'TXN-20250804-001',
  totalHarga: '198000',
  itemCount: 2,
  timestamp: '2025-08-03T22:39:09.413Z'
}
[TransaksiService] üìù Creating transaksi record {
  kode: 'TXN-20250804-001',
  penyewaId: '10bb5330-3654-4c45-b110-c71c07e6ec2f',
  totalHarga: '198000',
  timestamp: '2025-08-03T22:39:09.825Z'
}
[TransaksiService] ‚úÖ Transaksi record created {
  transaksiId: '2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7',
  kode: 'TXN-20250804-001',
  timestamp: '2025-08-03T22:39:10.236Z'
}
[TransaksiService] üìã Creating transaction items {
  itemsCount: 2,
  items: [
    {
      produkId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      jumlah: 2,
      hargaSewa: '8000'
    },
    {
      produkId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      jumlah: 1,
      hargaSewa: '50000'
    }
  ],
  timestamp: '2025-08-03T22:39:10.238Z'
}
[TransaksiService] ‚úÖ Transaction items created successfully { itemsCount: 2, timestamp: '2025-08-03T22:39:10.643Z' }
[TransaksiService] üîÑ Now implementing stock reduction logic {
  message: 'Executing product quantity updates for rented items',
  items: [
    {
      productId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      rentedQuantity: 2
    },
    {
      productId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      rentedQuantity: 1
    }
  ],
  timestamp: '2025-08-03T22:39:10.645Z'
}
[TransaksiService] üîÑ Starting product quantity updates {
  itemCount: 2,
  items: [
    {
      productId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
      quantityToReduce: 2
    },
    {
      productId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
      quantityToReduce: 1
    }
  ],
  timestamp: '2025-08-03T22:39:10.649Z'
}
[TransaksiService] üì¶ Processing product quantity update {
  productId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
  quantityToReduce: 2,
  timestamp: '2025-08-03T22:39:10.652Z'
}
[TransaksiService] ‚úÖ Product inventory updated successfully {
  productId: 'ee781c3a-e7be-4ec4-9889-904c664b1d54',
  productName: 'Dress Elegant Updated Update',
  totalInventory: 2,
  previousAvailable: 2,
  previousRented: 0,
  rentedQuantity: 2,
  newAvailable: 0,
  newRented: 2,
  timestamp: '2025-08-03T22:39:11.360Z'
}
[TransaksiService] üì¶ Processing product quantity update {
  productId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
  quantityToReduce: 1,
  timestamp: '2025-08-03T22:39:11.364Z'
}
[TransaksiService] ‚úÖ Product inventory updated successfully {
  productId: '2a225c70-148d-4fca-a5b2-02d151ffb334',
  productName: 'Dress Elegant Red',
  totalInventory: 1,
  previousAvailable: 1,
  previousRented: 0,
  rentedQuantity: 1,
  newAvailable: 0,
  newRented: 1,
  timestamp: '2025-08-03T22:39:12.177Z'
}
[TransaksiService] ‚úÖ All product quantities updated successfully { totalProductsUpdated:
 2, timestamp: '2025-08-03T22:39:12.180Z' }
[TransaksiService] üìù Activity log created {
  transaksiId: '2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7',
  activityType: 'dibuat',
  timestamp: '2025-08-03T22:39:12.586Z'
}
[TransaksiService] ‚úÖ Database transaction completed successfully {
  transaksiId: '2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7',
  kode: 'TXN-20250804-001',
  status: 'active',
  timestamp: '2025-08-03T22:39:12.791Z'
}
 POST /api/kasir/transaksi 201 in 15690ms
 ‚óã Compiling /api/kasir/pembayaran ...
 ‚úì Compiled /api/kasir/pembayaran in 3.3s
[PAYMENT_CREATE] Starting payment transaction for TXN-20250804-001
[PAYMENT_CREATE] Payment record created: 9e8a63f9-4e7b-4300-bbd2-8b0ef747baf9
[PAYMENT_CREATE] Transaction amounts updated for TXN-20250804-001
[PAYMENT_CREATE] Activity log created: 02032dda-d46a-4435-aff5-7a01b01f495e
[PAYMENT_CREATE] Activity verification successful: 02032dda-d46a-4435-aff5-7a01b01f495e
[PAYMENT_CREATE] Payment transaction completed for TXN-20250804-001
[PAYMENT_VERIFY] Activity verification successful after 0 retries
[AUDIT] {
  "entityType": "pembayaran",
  "entityId": "9e8a63f9-4e7b-4300-bbd2-8b0ef747baf9",
  "action": "create",
  "newData": {
    "id": "9e8a63f9-4e7b-4300-bbd2-8b0ef747baf9",
    "transaksiId": "2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7",
    "jumlah": "100000",
    "metode": "tunai",
    "referensi": null,
    "catatan": "Pembayaran awal transaksi",
    "createdBy": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
    "createdAt": "2025-08-03T22:39:22.425Z",
    "transaksi": {
      "id": "2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7",
      "kode": "TXN-20250804-001",
      "penyewa": {
        "nama": "NInja",
        "telepon": "087463296331"
      },
      "totalHarga": "198000",
      "jumlahBayar": "100000",
      "sisaBayar": "98000",
      "status": "active"
    }
  },
  "metadata": {
    "operation": "payment_creation",
    "transactionCode": "TXN-20250804-001",
    "amount": 100000,
    "method": "tunai"
  },
  "userId": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
  "userRole": "kasir",
  "timestamp": "2025-08-03T22:39:26.208Z"
}
[PAYMENT_CREATE] Payment creation process completed for TXN-20250804-001
 POST /api/kasir/pembayaran 201 in 9901ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 561ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 GET /dashboard 200 in 157ms
 GET /api/kasir/transaksi?page=1&limit=100 200 in 3110ms
[2025-08-03T22:39:52.966Z] [INFO] [NewTransactionPage] New transaction page loaded | Data: {"timestamp":"2025-08-03T22:39:52.966Z","page":"/dashboard/new","action":"PAGE_LOAD"}  
 GET /dashboard/new 200 in 255ms
[ProductAvailableAPI] üöÄ GET request started {
  timestamp: '2025-08-03T22:39:53.193Z',
  url: 'http://localhost:3000/api/kasir/produk/available?available=true',
  method: 'GET'
}
[ProductAvailableAPI] üìä Query parameters received {
  queryParams: {
    page: '1',
    limit: '10',
    search: undefined,
    categoryId: undefined,
    available: true,
    size: undefined,
    colorId: undefined
  },
  timestamp: '2025-08-03T22:39:54.095Z'
}
[ProductAvailableAPI] ‚úÖ Query parameters validated {
  page: 1,
  limit: 10,
  skip: 0,
  search: undefined,
  categoryId: undefined,
  available: true,
  size: undefined,
  colorId: undefined,
  timestamp: '2025-08-03T22:39:54.097Z'
}
[ProductAvailableAPI] üóÑÔ∏è Executing database query {
  whereClause: { isActive: true, status: 'AVAILABLE', availableStock: { gt: 0 } },       
  skip: 0,
  limit: 10,
  timestamp: '2025-08-03T22:39:54.097Z'
}
[ProductAvailableAPI] ‚úÖ Database query completed {
  productsFound: 3,
  totalCount: 3,
  productIds: [
    '6e23fefd-205a-4e62-af17-488b75e8cb4f',
    '6ca0b72e-6392-4ea2-9e96-1511969661d1',
    'e2f252a1-a7d4-4846-842d-981f227a64d2'
  ],
  productInventory: [
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 10,
      rentedStock: 0
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:39:55.800Z'
}
[ProductAvailableAPI] ‚úÖ Using database inventory fields directly {
  productsFound: 3,
  inventorySummary: [
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 10,
      rentedStock: 0
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:39:55.805Z'
}
[ProductAvailableAPI] ‚úÖ Sending response {
  returnedProducts: 3,
  totalProducts: 3,
  currentPage: 1,
  totalPages: 1,
  productsWithStock: 3,
  productsOutOfStock: 0,
  totalInventoryValue: 26,
  totalAvailableStock: 26,
  totalRentedStock: 0,
  timestamp: '2025-08-03T22:39:55.808Z'
}
 GET /api/kasir/produk/available?available=true 200 in 2783ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 898ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 GET /api/kasir/penyewa?limit=20 200 in 1927ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 811ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
[TransaksiService] üöÄ Starting transaction creation {
  penyewaId: 'db214b9a-2b56-4675-be6b-6231730cba4b',
  itemCount: 1,
  items: [
    {
      produkId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      jumlah: 5,
      durasi: 3
    }
  ],
  tglMulai: '2025-08-06T00:00:00.000Z',
  metodeBayar: 'tunai',
  timestamp: '2025-08-03T22:40:21.275Z'
}
[TransaksiService] ‚úÖ Penyewa validated {
  penyewaId: 'db214b9a-2b56-4675-be6b-6231730cba4b',
  penyewaNama: 'Ardiansyah',
  timestamp: '2025-08-03T22:40:22.275Z'
}
[TransaksiService] üîÑ Validating product availability {
  items: [
    {
      productId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      requestedQuantity: 5
    }
  ],
  checkDate: '2025-08-06T00:00:00.000Z',
  timestamp: '2025-08-03T22:40:22.276Z'
}
[TransaksiService] üìä Availability validation result {
  isValid: true,
  errors: [],
  warnings: [],
  timestamp: '2025-08-03T22:40:25.188Z'
}
[TransaksiService] üóÑÔ∏è Starting database transaction {
  transactionCode: 'TXN-20250804-002',
  totalHarga: '1500000',
  itemCount: 1,
  timestamp: '2025-08-03T22:40:28.158Z'
}
[TransaksiService] üìù Creating transaksi record {
  kode: 'TXN-20250804-002',
  penyewaId: 'db214b9a-2b56-4675-be6b-6231730cba4b',
  totalHarga: '1500000',
  timestamp: '2025-08-03T22:40:28.453Z'
}
[TransaksiService] ‚úÖ Transaksi record created {
  transaksiId: 'bac2b2b8-95c6-4848-9091-e2ae1005cb9d',
  kode: 'TXN-20250804-002',
  timestamp: '2025-08-03T22:40:28.774Z'
}
[TransaksiService] üìã Creating transaction items {
  itemsCount: 1,
  items: [
    {
      produkId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      jumlah: 5,
      hargaSewa: '100000'
    }
  ],
  timestamp: '2025-08-03T22:40:28.775Z'
}
[TransaksiService] ‚úÖ Transaction items created successfully { itemsCount: 1, timestamp: '2025-08-03T22:40:29.095Z' }
[TransaksiService] üîÑ Now implementing stock reduction logic {
  message: 'Executing product quantity updates for rented items',
  items: [
    {
      productId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      rentedQuantity: 5
    }
  ],
  timestamp: '2025-08-03T22:40:29.097Z'
}
[TransaksiService] üîÑ Starting product quantity updates {
  itemCount: 1,
  items: [
    {
      productId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      quantityToReduce: 5
    }
  ],
  timestamp: '2025-08-03T22:40:29.099Z'
}
[TransaksiService] üì¶ Processing product quantity update {
  productId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
  quantityToReduce: 5,
  timestamp: '2025-08-03T22:40:29.101Z'
}
[TransaksiService] ‚úÖ Product inventory updated successfully {
  productId: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
  productName: 'DRESS Pesta Baju',
  totalInventory: 10,
  previousAvailable: 10,
  previousRented: 0,
  rentedQuantity: 5,
  newAvailable: 5,
  newRented: 5,
  timestamp: '2025-08-03T22:40:29.796Z'
}
[TransaksiService] ‚úÖ All product quantities updated successfully { totalProductsUpdated:
 1, timestamp: '2025-08-03T22:40:29.799Z' }
[TransaksiService] üìù Activity log created {
  transaksiId: 'bac2b2b8-95c6-4848-9091-e2ae1005cb9d',
  activityType: 'dibuat',
  timestamp: '2025-08-03T22:40:30.206Z'
}
[TransaksiService] ‚úÖ Database transaction completed successfully {
  transaksiId: 'bac2b2b8-95c6-4848-9091-e2ae1005cb9d',
  kode: 'TXN-20250804-002',
  status: 'active',
  timestamp: '2025-08-03T22:40:30.355Z'
}
 POST /api/kasir/transaksi 201 in 12580ms
[PAYMENT_CREATE] Starting payment transaction for TXN-20250804-002
[PAYMENT_CREATE] Payment record created: 13a141f0-4437-468e-8fc4-0eb71f9233e6
[PAYMENT_CREATE] Transaction amounts updated for TXN-20250804-002
[PAYMENT_CREATE] Activity log created: bb5e769a-b823-408d-bfa3-f27ac3736054
[PAYMENT_CREATE] Activity verification successful: bb5e769a-b823-408d-bfa3-f27ac3736054
[PAYMENT_CREATE] Payment transaction completed for TXN-20250804-002
[PAYMENT_VERIFY] Activity verification successful after 0 retries
[AUDIT] {
  "entityType": "pembayaran",
  "entityId": "13a141f0-4437-468e-8fc4-0eb71f9233e6",
  "action": "create",
  "newData": {
    "id": "13a141f0-4437-468e-8fc4-0eb71f9233e6",
    "transaksiId": "bac2b2b8-95c6-4848-9091-e2ae1005cb9d",
    "jumlah": "500000",
    "metode": "tunai",
    "referensi": null,
    "catatan": "Pembayaran awal transaksi",
    "createdBy": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
    "createdAt": "2025-08-03T22:40:36.201Z",
    "transaksi": {
      "id": "bac2b2b8-95c6-4848-9091-e2ae1005cb9d",
      "kode": "TXN-20250804-002",
      "penyewa": {
        "nama": "Ardiansyah",
        "telepon": "089526293221"
      },
      "totalHarga": "1500000",
      "jumlahBayar": "500000",
      "sisaBayar": "1000000",
      "status": "active"
    }
  },
  "metadata": {
    "operation": "payment_creation",
    "transactionCode": "TXN-20250804-002",
    "amount": 500000,
    "method": "tunai"
  },
  "userId": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
  "userRole": "kasir",
  "timestamp": "2025-08-03T22:40:40.140Z"
}
[PAYMENT_CREATE] Payment creation process completed for TXN-20250804-002
 POST /api/kasir/pembayaran 201 in 6468ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 562ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 GET /dashboard 200 in 161ms
 GET /api/kasir/transaksi?page=1&limit=100 200 in 3246ms
[2025-08-03T22:40:48.167Z] [INFO] [NewTransactionPage] New transaction page loaded | Data: {"timestamp":"2025-08-03T22:40:48.167Z","page":"/dashboard/new","action":"PAGE_LOAD"}  
 GET /dashboard/new 200 in 229ms
[ProductAvailableAPI] üöÄ GET request started {
  timestamp: '2025-08-03T22:40:48.393Z',
  url: 'http://localhost:3000/api/kasir/produk/available?available=true',
  method: 'GET'
}
[ProductAvailableAPI] üìä Query parameters received {
  queryParams: {
    page: '1',
    limit: '10',
    search: undefined,
    categoryId: undefined,
    available: true,
    size: undefined,
    colorId: undefined
  },
  timestamp: '2025-08-03T22:40:49.333Z'
}
[ProductAvailableAPI] ‚úÖ Query parameters validated {
  page: 1,
  limit: 10,
  skip: 0,
  search: undefined,
  categoryId: undefined,
  available: true,
  size: undefined,
  colorId: undefined,
  timestamp: '2025-08-03T22:40:49.335Z'
}
[ProductAvailableAPI] üóÑÔ∏è Executing database query {
  whereClause: { isActive: true, status: 'AVAILABLE', availableStock: { gt: 0 } },       
  skip: 0,
  limit: 10,
  timestamp: '2025-08-03T22:40:49.337Z'
}
[ProductAvailableAPI] ‚úÖ Database query completed {
  productsFound: 3,
  totalCount: 3,
  productIds: [
    '6e23fefd-205a-4e62-af17-488b75e8cb4f',
    '6ca0b72e-6392-4ea2-9e96-1511969661d1',
    'e2f252a1-a7d4-4846-842d-981f227a64d2'
  ],
  productInventory: [
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 5,
      rentedStock: 5
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:40:50.854Z'
}
[ProductAvailableAPI] ‚úÖ Using database inventory fields directly {
  productsFound: 3,
  inventorySummary: [
    {
      id: '6e23fefd-205a-4e62-af17-488b75e8cb4f',
      name: 'DRESS Pesta Baju',
      totalInventory: 10,
      availableStock: 5,
      rentedStock: 5
    },
    {
      id: '6ca0b72e-6392-4ea2-9e96-1511969661d1',
      name: 'DRESS Pesta Baju test 1',
      totalInventory: 7,
      availableStock: 7,
      rentedStock: 0
    },
    {
      id: 'e2f252a1-a7d4-4846-842d-981f227a64d2',
      name: 'Pakaian',
      totalInventory: 9,
      availableStock: 9,
      rentedStock: 0
    }
  ],
  timestamp: '2025-08-03T22:40:50.857Z'
}
[ProductAvailableAPI] ‚úÖ Sending response {
  returnedProducts: 3,
  totalProducts: 3,
  currentPage: 1,
  totalPages: 1,
  productsWithStock: 3,
  productsOutOfStock: 0,
  totalInventoryValue: 26,
  totalAvailableStock: 21,
  totalRentedStock: 5,
  timestamp: '2025-08-03T22:40:50.864Z'
}
 GET /api/kasir/produk/available?available=true 200 in 2629ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 931ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 GET /dashboard 200 in 218ms
 ‚óã Compiling /dashboard/transaction/[kode] ...
 ‚úì Compiled /dashboard/transaction/[kode] in 5s
 GET /dashboard/transaction/TXN-20250804-001 200 in 6295ms
 ‚óã Compiling /api/kasir/transaksi/[kode] ...
 ‚úì Compiled /api/kasir/transaksi/[kode] in 2.7s
 GET /api/kasir/transaksi/TXN-20250804-001 200 in 9124ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 1115ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
[PAYMENT_CREATE] Starting payment transaction for TXN-20250804-001
[PAYMENT_CREATE] Payment record created: e57b6522-1ade-4959-b968-3c15bf3c535b
[PAYMENT_CREATE] Transaction amounts updated for TXN-20250804-001
[PAYMENT_CREATE] Activity log created: 465e3e62-c29c-4049-a9e0-471f84c38f7a
[PAYMENT_CREATE] Activity verification successful: 465e3e62-c29c-4049-a9e0-471f84c38f7a
[PAYMENT_CREATE] Payment transaction completed for TXN-20250804-001
[PAYMENT_VERIFY] Activity verification successful after 0 retries
[AUDIT] {
  "entityType": "pembayaran",
  "entityId": "e57b6522-1ade-4959-b968-3c15bf3c535b",
  "action": "create",
  "newData": {
    "id": "e57b6522-1ade-4959-b968-3c15bf3c535b",
    "transaksiId": "2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7",
    "jumlah": "98000",
    "metode": "tunai",
    "referensi": null,
    "catatan": null,
    "createdBy": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
    "createdAt": "2025-08-03T22:41:34.208Z",
    "transaksi": {
      "id": "2d1276a7-e44d-4f23-bdb5-b863b3a9e3f7",
      "kode": "TXN-20250804-001",
      "penyewa": {
        "nama": "NInja",
        "telepon": "087463296331"
      },
      "totalHarga": "198000",
      "jumlahBayar": "198000",
      "sisaBayar": "0",
      "status": "active"
    }
  },
  "metadata": {
    "operation": "payment_creation",
    "transactionCode": "TXN-20250804-001",
    "amount": 98000,
    "method": "tunai"
  },
  "userId": "user_2zqMR8BytXixaDKNlvkF8Hm7pOp",
  "userRole": "kasir",
  "timestamp": "2025-08-03T22:41:37.792Z"
}
[PAYMENT_CREATE] Payment creation process completed for TXN-20250804-001
 POST /api/kasir/pembayaran 201 in 6465ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 590ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
 GET /api/kasir/transaksi/TXN-20250804-001 200 in 4346ms
 ‚îÇ GET https://api.clerk.com/v1/users/user_2zqMR8BytXixaDKNlvkF8Hm7pOp 200 in 567ms (cache skip)
 ‚îÇ ‚îÇ Cache skipped reason: (auto no cache)
