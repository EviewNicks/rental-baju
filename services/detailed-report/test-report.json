{
  "numTotalTests": 52,
  "numPassedTests": 3,
  "numFailedTests": 0,
  "numPendingTests": 49,
  "startTime": "2025-08-11T11:21:27.721Z",
  "endTime": "2025-08-11T11:21:29.243Z",
  "testResults": [
    {
      "testFilePath": "D:\\.work\\rental-software\\features\\kasir\\lib\\utils\\penaltyCalculator.test.ts",
      "testFileResults": [
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateLatePenalty"
          ],
          "fullName": "PenaltyCalculator calculateLatePenalty should calculate no penalty for on-time return",
          "status": "pending",
          "title": "should calculate no penalty for on-time return",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateLatePenalty"
          ],
          "fullName": "PenaltyCalculator calculateLatePenalty should calculate penalty for late return with default rate",
          "status": "pending",
          "title": "should calculate penalty for late return with default rate",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateLatePenalty"
          ],
          "fullName": "PenaltyCalculator calculateLatePenalty should cap penalty at maximum days (365)",
          "status": "pending",
          "title": "should cap penalty at maximum days (365)",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateLatePenalty"
          ],
          "fullName": "PenaltyCalculator calculateLatePenalty should handle fractional days by rounding up",
          "status": "pending",
          "title": "should handle fractional days by rounding up",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Frontend Integration - Current Condition Values"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Frontend Integration - Current Condition Values should handle \"baik\" condition correctly (CRITICAL FIX)",
          "status": "pending",
          "title": "should handle \"baik\" condition correctly (CRITICAL FIX)",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Frontend Integration - Current Condition Values"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Frontend Integration - Current Condition Values should handle \"kotor\" condition correctly",
          "status": "pending",
          "title": "should handle \"kotor\" condition correctly",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Frontend Integration - Current Condition Values"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Frontend Integration - Current Condition Values should handle \"rusak ringan\" condition correctly",
          "status": "pending",
          "title": "should handle \"rusak ringan\" condition correctly",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Frontend Integration - Current Condition Values"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Frontend Integration - Current Condition Values should handle \"rusak berat\" condition correctly",
          "status": "pending",
          "title": "should handle \"rusak berat\" condition correctly",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Frontend Integration - Current Condition Values"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Frontend Integration - Current Condition Values should handle \"hilang\" condition correctly (already working)",
          "status": "pending",
          "title": "should handle \"hilang\" condition correctly (already working)",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "Legacy conditions - backward compatibility"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty Legacy conditions - backward compatibility should return zero penalty for perfect condition",
          "status": "pending",
          "title": "should return zero penalty for perfect condition",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "minor damage conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty minor damage conditions should apply 1x daily rate for light dirt",
          "status": "pending",
          "title": "should apply 1x daily rate for light dirt",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "minor damage conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty minor damage conditions should apply 1x daily rate for light stains",
          "status": "pending",
          "title": "should apply 1x daily rate for light stains",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "moderate damage conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty moderate damage conditions should apply 2x daily rate for small damage",
          "status": "pending",
          "title": "should apply 2x daily rate for small damage",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "moderate damage conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty moderate damage conditions should apply 2x daily rate for heavy stains",
          "status": "pending",
          "title": "should apply 2x daily rate for heavy stains",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "severe damage conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty severe damage conditions should apply 4x daily rate for major damage",
          "status": "pending",
          "title": "should apply 4x daily rate for major damage",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "lost item conditions - modalAwal integration"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty lost item conditions - modalAwal integration should use modalAwal when provided for lost items",
          "status": "pending",
          "title": "should use modalAwal when provided for lost items",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "lost item conditions - modalAwal integration"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty lost item conditions - modalAwal integration should use modalAwal for different lost conditions",
          "status": "pending",
          "title": "should use modalAwal for different lost conditions",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "lost item conditions - modalAwal integration"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty lost item conditions - modalAwal integration should fallback to old calculation when modalAwal not provided",
          "status": "pending",
          "title": "should fallback to old calculation when modalAwal not provided",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "lost item conditions - modalAwal integration"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty lost item conditions - modalAwal integration should handle zero modalAwal gracefully",
          "status": "pending",
          "title": "should handle zero modalAwal gracefully",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateConditionPenalty",
            "unrecognized conditions"
          ],
          "fullName": "PenaltyCalculator calculateConditionPenalty unrecognized conditions should apply default moderate penalty for unknown conditions",
          "status": "pending",
          "title": "should apply default moderate penalty for unknown conditions",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should calculate penalty for on-time return with good condition",
          "status": "pending",
          "title": "should calculate penalty for on-time return with good condition",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should calculate penalty for late return with good condition",
          "status": "pending",
          "title": "should calculate penalty for late return with good condition",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should calculate penalty for lost item with modalAwal",
          "status": "pending",
          "title": "should calculate penalty for lost item with modalAwal",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should calculate combined penalty for late + damaged item",
          "status": "pending",
          "title": "should calculate combined penalty for late + damaged item",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should multiply penalty by quantity",
          "status": "pending",
          "title": "should multiply penalty by quantity",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateItemPenalty"
          ],
          "fullName": "PenaltyCalculator calculateItemPenalty should prioritize lost over damaged in reason code",
          "status": "pending",
          "title": "should prioritize lost over damaged in reason code",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateTransactionPenalties"
          ],
          "fullName": "PenaltyCalculator calculateTransactionPenalties should calculate penalties for multiple items",
          "status": "pending",
          "title": "should calculate penalties for multiple items",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateTransactionPenalties"
          ],
          "fullName": "PenaltyCalculator calculateTransactionPenalties should provide correct summary statistics",
          "status": "pending",
          "title": "should provide correct summary statistics",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "calculateTransactionPenalties"
          ],
          "fullName": "PenaltyCalculator calculateTransactionPenalties should handle empty items array",
          "status": "pending",
          "title": "should handle empty items array",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "formatPenaltyAmount"
          ],
          "fullName": "PenaltyCalculator utility methods formatPenaltyAmount should format penalty amount to Indonesian Rupiah",
          "status": "pending",
          "title": "should format penalty amount to Indonesian Rupiah",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "generatePenaltyDescription"
          ],
          "fullName": "PenaltyCalculator utility methods generatePenaltyDescription should generate description for zero penalty",
          "status": "pending",
          "title": "should generate description for zero penalty",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "generatePenaltyDescription"
          ],
          "fullName": "PenaltyCalculator utility methods generatePenaltyDescription should generate description with formatted amount",
          "status": "pending",
          "title": "should generate description with formatted amount",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Correct date field usage (tglSelesai vs tglKembali)"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Correct date field usage (tglSelesai vs tglKembali) should calculate realistic penalty using correct expected return date",
          "status": "pending",
          "title": "should calculate realistic penalty using correct expected return date",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Correct date field usage (tglSelesai vs tglKembali)"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Correct date field usage (tglSelesai vs tglKembali) should NOT produce massive penalty from wrong date field",
          "status": "pending",
          "title": "should NOT produce massive penalty from wrong date field",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Correct date field usage (tglSelesai vs tglKembali)"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Correct date field usage (tglSelesai vs tglKembali) should handle realistic late return scenarios correctly",
          "status": "pending",
          "title": "should handle realistic late return scenarios correctly",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Multi-condition penalty with correct date usage"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Multi-condition penalty with correct date usage should calculate realistic multi-condition penalty using tglSelesai",
          "status": "pending",
          "title": "should calculate realistic multi-condition penalty using tglSelesai",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Step 1 to Step 2 Integration - TSK-24 Critical Fix"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Step 1 to Step 2 Integration - TSK-24 Critical Fix should match ConditionRow penalty preview for \"baik\" condition",
          "status": "passed",
          "title": "should match ConditionRow penalty preview for \"baik\" condition",
          "failureMessages": [],
          "duration": 3
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Step 1 to Step 2 Integration - TSK-24 Critical Fix"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Step 1 to Step 2 Integration - TSK-24 Critical Fix should match ConditionRow penalty preview for all conditions",
          "status": "passed",
          "title": "should match ConditionRow penalty preview for all conditions",
          "failureMessages": [],
          "duration": 0
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Step 1 to Step 2 Integration - TSK-24 Critical Fix"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Step 1 to Step 2 Integration - TSK-24 Critical Fix should calculate realistic penalties for complete item",
          "status": "passed",
          "title": "should calculate realistic penalties for complete item",
          "failureMessages": [],
          "duration": 1
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Date validation edge cases"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Date validation edge cases should handle invalid date strings gracefully",
          "status": "pending",
          "title": "should handle invalid date strings gracefully",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "Date Field Validation - TSK-24 Bug Fix",
            "Date validation edge cases"
          ],
          "fullName": "PenaltyCalculator utility methods Date Field Validation - TSK-24 Bug Fix Date validation edge cases should validate return date is not too far in past",
          "status": "pending",
          "title": "should validate return date is not too far in past",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should validate correct inputs",
          "status": "pending",
          "title": "should validate correct inputs",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should detect invalid dates",
          "status": "pending",
          "title": "should detect invalid dates",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should detect empty condition",
          "status": "pending",
          "title": "should detect empty condition",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should detect invalid quantity",
          "status": "pending",
          "title": "should detect invalid quantity",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should detect very old return dates",
          "status": "pending",
          "title": "should detect very old return dates",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "validatePenaltyInputs"
          ],
          "fullName": "PenaltyCalculator utility methods validatePenaltyInputs should accumulate multiple errors",
          "status": "pending",
          "title": "should accumulate multiple errors",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "utility methods",
            "getBusinessRules"
          ],
          "fullName": "PenaltyCalculator utility methods getBusinessRules should return current business rules configuration",
          "status": "pending",
          "title": "should return current business rules configuration",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "edge cases and boundary conditions"
          ],
          "fullName": "PenaltyCalculator edge cases and boundary conditions should handle very large modalAwal values",
          "status": "pending",
          "title": "should handle very large modalAwal values",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "edge cases and boundary conditions"
          ],
          "fullName": "PenaltyCalculator edge cases and boundary conditions should handle leap year date calculations",
          "status": "pending",
          "title": "should handle leap year date calculations",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "edge cases and boundary conditions"
          ],
          "fullName": "PenaltyCalculator edge cases and boundary conditions should handle timezone differences correctly",
          "status": "pending",
          "title": "should handle timezone differences correctly",
          "failureMessages": [],
          "duration": null
        },
        {
          "ancestorTitles": [
            "PenaltyCalculator",
            "edge cases and boundary conditions"
          ],
          "fullName": "PenaltyCalculator edge cases and boundary conditions should handle case-insensitive condition matching",
          "status": "pending",
          "title": "should handle case-insensitive condition matching",
          "failureMessages": [],
          "duration": null
        }
      ],
      "failureMessage": null
    }
  ]
}